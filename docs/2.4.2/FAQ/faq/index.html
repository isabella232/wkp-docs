<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.72">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="WKP Technical Documentation Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="WKP Technical Documentation Blog Atom Feed"><title data-react-helmet="true">Frequently Asked Questions | WKP Technical Documentation</title><meta data-react-helmet="true" property="og:url" content="https://weaveworks.github.io/wkp-docs//docs/2.4.2/FAQ/faq"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="2.4.2"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-2.4.2"><meta data-react-helmet="true" property="og:title" content="Frequently Asked Questions | WKP Technical Documentation"><meta data-react-helmet="true" name="description" content="Question: How many master nodes should I create?"><meta data-react-helmet="true" property="og:description" content="Question: How many master nodes should I create?"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon_150px.png"><link data-react-helmet="true" rel="canonical" href="https://weaveworks.github.io/wkp-docs//docs/2.4.2/FAQ/faq"><link data-react-helmet="true" rel="alternate" href="https://weaveworks.github.io/wkp-docs//docs/2.4.2/FAQ/faq" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://weaveworks.github.io/wkp-docs//docs/2.4.2/FAQ/faq" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.68a53ba0.css">
<link rel="preload" href="/assets/js/styles.e7d59c5f.js" as="script">
<link rel="preload" href="/assets/js/runtime~main.fa38d9e8.js" as="script">
<link rel="preload" href="/assets/js/main.ecdd9e29.js" as="script">
<link rel="preload" href="/assets/js/1.0dc95d6e.js" as="script">
<link rel="preload" href="/assets/js/2.6c71fb4b.js" as="script">
<link rel="preload" href="/assets/js/3.1bec8c48.js" as="script">
<link rel="preload" href="/assets/js/1be78505.41b456c1.js" as="script">
<link rel="preload" href="/assets/js/141.0173d0cd.js" as="script">
<link rel="preload" href="/assets/js/cb9bbae0.9c788210.js" as="script">
<link rel="preload" href="/assets/js/17896441.9e520678.js" as="script">
<link rel="preload" href="/assets/js/4f715a14.624d5a76.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/weave-logo.png" alt="WKP docs" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/weave-logo.png" alt="WKP docs" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">WKP Docs</strong></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.4.2/">Getting Started</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.4.2/deploying-wkp/hosts">Install</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.4.2/tasks/using-the-eks-d-distribution">Tasks</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.4.2/cluster-operations/user-workloads">Cluster Operations</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.4.2/download">WKP Downloads</a><a class="navbar__item navbar__link navbar__link--active" href="/docs/2.4.2/release-notes">Release Notes</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__item navbar__link" href="/docs/2.4.2/">2.4.2</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/FAQ/faq">main</a></li><li><a class="dropdown__link" href="/docs/FAQ/faq">2.5.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/2.4.2/FAQ/faq">2.4.2</a></li></ul></div><a href="https://github.com/weaveworks/wkp-docs/tree/main" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_GrZ2"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/weave-logo.png" alt="WKP docs" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/weave-logo.png" alt="WKP docs" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">WKP Docs</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/2.4.2/">Getting Started</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/2.4.2/deploying-wkp/hosts">Install</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/2.4.2/tasks/using-the-eks-d-distribution">Tasks</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/2.4.2/cluster-operations/user-workloads">Cluster Operations</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/2.4.2/download">WKP Downloads</a></li><li class="menu__list-item"><a class="menu__link navbar__link--active" href="/docs/2.4.2/release-notes">Release Notes</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/next/FAQ/faq">main</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/FAQ/faq">2.5.0</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/2.4.2/FAQ/faq">2.4.2</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/weaveworks/wkp-docs/tree/main" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper main-docs-wrapper"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/">Introduction to wk</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/getting-started/wk">The wk command</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/getting-started/entitlements">Configuring Entitlements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/getting-started/git-config-repository">Managing the Git Configuration Repository</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/getting-started/known-issues">Known Issues and Work Arounds</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deploying WKP</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/deploying-wkp/hosts">Cluster Node Requirements</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/deploying-wkp/cluster-creation-on-ssh-nodes">Creating Clusters on SSH Nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/deploying-wkp/components-on-existing-cluster">Install to an Existing Cluster</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/deploying-wkp/cluster-creation-on-eks">Installing WKP to EKS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/deploying-wkp/cluster-creation-on-footloose">Installing WKP on Footloose</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Team Workspaces</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/team-workspaces/usage-guide">Implementing Team Workspaces</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/team-workspaces/team-permissions">Specifying Team Permissions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/team-workspaces/member-guide">Deploying Workloads</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Cluster Operations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/cluster-operations/user-workloads">Running and Managing Workloads</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/cluster-operations/adding-removing-nodes">Adding and Removing Nodes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/cluster-operations/upgrading-kubernetes-version">Upgrading Kubernetes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/cluster-operations/custom-kubernetes-configuration">Customizing the API Server and Kubelet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/cluster-operations/auth">Securing the WKP UI</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/cluster-operations/managing-secrets">Managing Secrets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/cluster-operations/sealing-key">Managing the Sealing Key</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Monitoring</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/monitoring/introduction">WKP Monitoring Tools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/monitoring/alerts">Alerts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/monitoring/dashboards">Dashboards</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Tasks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/tasks/using-the-eks-d-distribution">Configuring EKS-D</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/tasks/multiple-cluster-admins">Specifying Multiple Admins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/tasks/patching-node-os-packages">Patching Node OS packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/tasks/profiling-kubectl">Profiling kubectl</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/troubleshooting/help">Debugging a Problem</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/troubleshooting/kubelet">Troubleshooting kubelet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/troubleshooting/controller">Troubleshooting wks-controller</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/troubleshooting/scope">WKP Scope</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/tasks/patching-node-os-packages">Patching Node OS packages</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/tasks/profiling-kubectl">Profiling kubectl</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">FAQ</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/2.4.2/FAQ/faq">Frequently Asked Questions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/reference/reference">Cluster and Machine Objects</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/reference/cluster">cluster.yaml</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/reference/machines">machines.yaml</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Thirdparty Dependencies</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/2.4.2/deps/dependencies">Third-party Dependencies</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/docs/2.4.2/download">Downloading WKP</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/2.4.2/release-notes">Release Notes</a></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for WKP Technical Documentation <strong>2.4.2</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/FAQ/faq">latest version</a></strong> (2.5.0).</div></div><div class="docItemContainer_33ec"><article><div><span class="badge badge--secondary">Version: 2.4.2</span></div><header><h1 class="docTitle_3a4h">Frequently Asked Questions</h1></header><div class="markdown"><p><strong>Question</strong>: How many master nodes should I create?</p><p><strong>Answer</strong>: The main reason to create a multi-master cluster is to survive a master node going down. <code>wk</code> starts an etcd instance on each master node, the number of master nodes is mostly influenced by etcd and its need for a quorum. A cluster with 3 master nodes will be able to survive 1 master failure while a cluster with 5 master nodes will survive 2 master failures. For more information, consult the <a href="https://coreos.com/etcd/docs/latest/faq.html" target="_blank" rel="noopener noreferrer">etcd FAQ</a>.</p><p><strong>Question</strong>: What are the recommended resources for my nodes?</p><p><strong>Answer</strong>: Master nodes don&#x27;t need much resources: we recommend 2 vCPUs, 8GB of RAM and 32GB of disk space. Worker nodes can be provisioned keeping in mind the workloads that the cluster will need to run. For instance, Weaveworks uses worker nodes with 16 vCPUs, 32GB of RAM and 160GB of disk space.</p><p><strong>Question</strong>: What to do when facing problems while running <code>wk ui</code>?</p><p><strong>Answer</strong>: To expose the WKP UI, <code>wk ui</code> uses kubectl port forwarding. You can try running the command as follows for more errors to be displayed as to why wk ui is not working:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><div tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">kubectl port-forward --namespace wkp-ui svc/wkp-ui-nginx-ingress-controller </span><span class="token number" style="color:rgb(247, 140, 108)">8090</span><span class="token plain">:80</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>You should now be able to view it at <a href="http://localhost:8090" target="_blank" rel="noopener noreferrer">http://localhost:8090</a></p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/weaveworks/wkp-docs/tree/main/versioned_docs/version-2.4.2/FAQ/faq.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/2.4.2/tasks/profiling-kubectl"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Profiling kubectl</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/2.4.2/reference/reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Cluster and Machine Objects Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a href="mailto:support@weave.works" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Weaveworks</div></div></div></footer></div>
<script src="/assets/js/styles.e7d59c5f.js"></script>
<script src="/assets/js/runtime~main.fa38d9e8.js"></script>
<script src="/assets/js/main.ecdd9e29.js"></script>
<script src="/assets/js/1.0dc95d6e.js"></script>
<script src="/assets/js/2.6c71fb4b.js"></script>
<script src="/assets/js/3.1bec8c48.js"></script>
<script src="/assets/js/1be78505.41b456c1.js"></script>
<script src="/assets/js/141.0173d0cd.js"></script>
<script src="/assets/js/cb9bbae0.9c788210.js"></script>
<script src="/assets/js/17896441.9e520678.js"></script>
<script src="/assets/js/4f715a14.624d5a76.js"></script>
</body>
</html>